<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:EasyIce.Mobile.ViewModels"
             x:Class="EasyIce.Mobile.Views.ExercisePlayerPage"
             Title="Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ°">

    <Grid RowDefinitions="Auto, *" RowSpacing="10" BackgroundColor="{StaticResource DeepIceBackground}">
        
        <!-- Video Area (Placeholder) -->
        <Grid HeightRequest="250" BackgroundColor="Black">
            <Image Source="{Binding VideoPlaceholderUrl}" Aspect="AspectFill" Opacity="0.5"/>
            <Image Source="play_icon.png" HorizontalOptions="Center" VerticalOptions="Center" HeightRequest="64"/> 
            <!-- Assuming play_icon exists or is default, otherwise text -->
            <Label Text="â–¶" FontSize="64" TextColor="White" HorizontalOptions="Center" VerticalOptions="Center"/>
        </Grid>

        <!-- Content -->
        <ScrollView Grid.Row="1" Padding="20">
            <VerticalStackLayout Spacing="20">
                
                <!-- Title & Progress -->
                <Label Text="{Binding Title}" FontSize="24" FontAttributes="Bold"/>
                
                <Label Text="ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ ÑƒÑ€Ð¾Ð²Ð½Ñ:" TextColor="{StaticResource TextSecondary}"/>
                <ProgressBar Progress="{Binding Progress}" ProgressColor="{StaticResource NeonCyan}" ScaleY="2"/>

                <!-- Description -->
                <Frame Style="{StaticResource GlassCardStyle}">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="ðŸ“˜ Ð¢ÐµÑ…Ð½Ð¸ÐºÐ° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ" FontAttributes="Bold" TextColor="{StaticResource NeonCyan}"/>
                        <Label Text="{Binding TechniqueDescription}" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Mistakes -->
                <Frame Style="{StaticResource GlassCardStyle}" BorderColor="{StaticResource NeonMagenta}">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="âŒ Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸" FontAttributes="Bold" TextColor="{StaticResource NeonMagenta}"/>
                        <Label Text="{Binding CommonMistakes}" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Action Button -->
                <Button Text="Ð¯ Ð’Ð«ÐŸÐžÐ›ÐÐ˜Ð›" 
                        Command="{Binding CompleteExerciseCommand}"
                        Style="{StaticResource NeonButtonStyle}"
                        BackgroundColor="{StaticResource NeonGreen}"
                        TextColor="Black"
                        Margin="0,20,0,0"
                        HeightRequest="60"/>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>

</ContentPage>
